C51 COMPILER V9.00   INTERRUPT                                                             07/12/2019 22:42:42 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE INTERRUPT
OBJECT MODULE PLACED IN ..\output\interrupt.obj
COMPILER INVOKED BY: E:\developer kit tool\Keil_v5\C51\BIN\C51.EXE ..\code\source\interrupt.c LARGE OPTIMIZE(9,SIZE) BRO
                    -WSE NOAREGS INTVECTOR(0X0300) INCDIR(..\code\include) DEBUG OBJECTEXTEND PRINT(.\interrupt.lst) TABS(2) OBJECT(..\output
                    -\interrupt.obj)

line level    source

   1           /*****************************************************************************
   2          **               AMICCOM Electronics Corporation Document                   **
   3          **          Copyright (c) 2011-2015 AMICCOM Electronics Corporation         **
   4          **                                                                          **
   5          **      A3,1F,No.1, Li-Hsin 1th Road, Science_Based Industrid Park,         **
   6          **                       Hsin_Chu City, 300, Taiwan, ROC.                   **
   7          **                 Tel: 886-3-5785818   Fax: 886-3-5785819                  **
   8          **         E-mail:info@amiccom.com.tw  http: //www.amiccom.com.tw           **
   9          *****************************************************************************/
  10          #include "define.h"
  11          #include "A8107.h"
  12          #include "LibFunction.h"
  13          #include "io_base.h"
  14          
  15          uint8_t xdata BLE_INT_FLAG;
  16          
  17          extern void pwm_deal(void);
  18          extern stConfigParam ConfigParam;
  19          
  20          /*********************************************************************
  21          ** INT1_ISR
  22          *********************************************************************/
  23          void INT1_ISR(void) interrupt 2
  24          {
  25   1          // User can add code
  26   1        PCON |= 0x01;
  27   1          _nop_();
  28   1      }
  29          
  30          /*********************************************************************
  31          ** Timer1_ISR
  32          *********************************************************************/
  33          void Timer1_ISR(void) interrupt 3
  34          {
  35   1          // User can add code
  36   1          ConfigParam.ClkTickCtr ++;//100us
  37   1      
  38   1          pwm_deal();
  39   1      
  40   1      
  41   1          if ( ++ ConfigParam.Vibration_Stand > 7)
  42   1              ConfigParam.Vibration_Stand = 0;
  43   1      }
  44          
  45          /*********************************************************************
  46          ** Uart0Isr
  47          *********************************************************************/
  48          void Uart0Isr(void) interrupt 4
  49          {
  50   1          // User can add code
  51   1        PCON |= 0x01;
  52   1          _nop_();
  53   1      }
C51 COMPILER V9.00   INTERRUPT                                                             07/12/2019 22:42:42 PAGE 2   

  54          
  55          /*********************************************************************
  56          ** Timer2_ISR
  57          *********************************************************************/
  58          void Timer2_ISR(void) interrupt 5
  59          {
  60   1          // User can add code
  61   1          _nop_();
  62   1      }
  63          
  64          /*********************************************************************
  65          ** INT2_ISR
  66          *********************************************************************/
  67          void INT2_ISR(void) interrupt 7
  68          {
  69   1          // User can add code
  70   1          _nop_();
  71   1      }
  72          
  73          /*********************************************************************
  74          ** INT3_ISR
  75          *********************************************************************/
  76          void SleepTimer1_ISR(void) interrupt 8
  77          {
  78   1          // User can add code
  79   1          //_nop_();
  80   1      }
  81          
  82          /*********************************************************************
  83          ** INT4_ISR
  84          *********************************************************************/
  85          void RTC_ISR(void) interrupt 9
  86          {
  87   1          // User can add code
  88   1          _nop_();
  89   1      }
  90          
  91          /*********************************************************************
  92          ** RFISR
  93          *********************************************************************/
  94          void RFISR(void) interrupt 10
  95          {
  96   1          PCON |= 0x01;
  97   1          EIF = 0x08;
  98   1      
  99   1          if((XBYTE[TMR0CTL_REG]&0x20) == 0x20)
 100   1          {
 101   2              BLE_INT_FLAG=1;
 102   2              BLE_SLAVE_PROCESS();
 103   2          }
 104   1      ////////////////TWOR///////////////////////////////////
 105   1          if(XBYTE[VCOC_REG]&0x80)
 106   1          {
 107   2              XBYTE[VCOC_REG]=0xE0;
 108   2              TworTimerFlag=1;
 109   2          }
 110   1      /////////////////TWOR//////////////////////////////////
 111   1      }
 112          
 113          /*********************************************************************
 114          ** INT4_ISR
 115          *********************************************************************/
C51 COMPILER V9.00   INTERRUPT                                                             07/12/2019 22:42:42 PAGE 3   

 116          void KeyINT_ISR(void) interrupt 11
 117          {
 118   1          // User can add code
 119   1          EIF = 0x10;       // clr keyint flag
 120   1          EIE &=~0x10;            // 禁止外部键盘唤醒
 121   1        P3WUN |= 0x01;          // disable P3.1 的引脚唤醒
 122   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    241    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      1    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
