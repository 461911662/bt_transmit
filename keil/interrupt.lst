C51 COMPILER V9.00   INTERRUPT                                                             07/19/2019 22:46:40 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE INTERRUPT
OBJECT MODULE PLACED IN ..\output\interrupt.obj
COMPILER INVOKED BY: E:\developer kit tool\Keil_v5\C51\BIN\C51.EXE ..\code\source\interrupt.c LARGE OPTIMIZE(9,SIZE) BRO
                    -WSE NOAREGS INTVECTOR(0X0300) INCDIR(..\code\include) DEBUG OBJECTEXTEND PRINT(.\interrupt.lst) TABS(2) OBJECT(..\output
                    -\interrupt.obj)

line level    source

   1           /*****************************************************************************
   2          **               AMICCOM Electronics Corporation Document                   **
   3          **          Copyright (c) 2011-2015 AMICCOM Electronics Corporation         **
   4          **                                                                          **
   5          **      A3,1F,No.1, Li-Hsin 1th Road, Science_Based Industrid Park,         **
   6          **                       Hsin_Chu City, 300, Taiwan, ROC.                   **
   7          **                 Tel: 886-3-5785818   Fax: 886-3-5785819                  **
   8          **         E-mail:info@amiccom.com.tw  http: //www.amiccom.com.tw           **
   9          *****************************************************************************/
  10          #include "define.h"
  11          #include "A8107.h"
  12          #include "LibFunction.h"
  13          #include "io_base.h"
  14          #include "servicegen.h"
  15          #include "mcufunction.h"
  16          #include "usermcufunction.h"
  17          
  18          uint8_t xdata BLE_INT_FLAG;
  19          extern void key_handleEvent(void);
  20          
  21          
  22          /*********************************************************************
  23          ** INT1_ISR
  24          *********************************************************************/
  25          void INT1_ISR(void) interrupt 2
  26          {
  27   1          // User can add code
  28   1        //PCON |= 0x01;
  29   1          _nop_();
  30   1      }
  31          
  32          /*********************************************************************
  33          ** Timer1_ISR
  34          *********************************************************************/
  35          void Timer1_ISR(void) interrupt 3
  36          {
  37   1          // User can add code
  38   1      }
  39          
  40          /*********************************************************************
  41          ** Uart0Isr
  42          *********************************************************************/
  43          void Uart0Isr(void) interrupt 4
  44          {
  45   1          // User can add code
  46   1        //PCON |= 0x01;
  47   1          _nop_();
  48   1      }
  49          
  50          /*********************************************************************
  51          ** Timer2_ISR
  52          *********************************************************************/
  53          void Timer2_ISR(void) interrupt 5
C51 COMPILER V9.00   INTERRUPT                                                             07/19/2019 22:46:40 PAGE 2   

  54          {
  55   1          // User can add code
  56   1          _nop_();
  57   1      }
  58          
  59          /*********************************************************************
  60          ** INT2_ISR
  61          *********************************************************************/
  62          void INT2_ISR(void) interrupt 7
  63          {
  64   1          // User can add code
  65   1          _nop_();
  66   1      }
  67          
  68          /*********************************************************************
  69          ** INT3_ISR
  70          *********************************************************************/
  71          void SleepTimer1_ISR(void) interrupt 8
  72          {
  73   1          // User can add code
  74   1          //_nop_();
  75   1      }
  76          
  77          /*********************************************************************
  78          ** INT4_ISR
  79          *********************************************************************/
  80          void RTC_ISR(void) interrupt 9
  81          {
  82   1          // User can add code
  83   1          _nop_();
  84   1      }
  85          
  86          /*********************************************************************
  87          ** RFISR
  88          *********************************************************************/
  89          void RFISR(void) interrupt 10
  90          {
  91   1          PCON |= 0x01;
  92   1          EIF = 0x08;
  93   1      
  94   1          if((XBYTE[TMR0CTL_REG]&0x20) == 0x20)
  95   1          {
  96   2              BLE_INT_FLAG=1;
  97   2              BLE_SLAVE_PROCESS();
  98   2          }
  99   1      ////////////////TWOR///////////////////////////////////
 100   1          if(XBYTE[VCOC_REG]&0x80)
 101   1          {
 102   2              XBYTE[VCOC_REG]=0xE0;
 103   2              TworTimerFlag=1;
 104   2          }
 105   1      /////////////////TWOR//////////////////////////////////
 106   1      }
 107          
 108          /*********************************************************************
 109          ** INT4_ISR
 110          *********************************************************************/
 111          void KeyINT_ISR(void) interrupt 11
 112          {
 113   1          // User can add code
 114   1          EIF |= CLEAR_KEYINTFLAG;        /* 清除外部中断标志位 */
 115   1      
C51 COMPILER V9.00   INTERRUPT                                                             07/19/2019 22:46:40 PAGE 3   

 116   1      #ifdef KYE_DEBUG
 117   1          P0OE &= ~0x02;
 118   1      #endif
 119   1      
 120   1          /* 键盘唤醒PM1->normal */
 121   1          if(isIntoSleep())
 122   1          {
 123   2              reMCUfun();
 124   2              setIntoSleepFlag(FALSE);
 125   2              Twor05Timer(ENABLE);
 126   2              return;
 127   2          }
 128   1      
 129   1          //if(ble_state == CONNECT_ESTABLISH_STATE)
 130   1          //{
 131   1              /* 按键事件处理 */
 132   1          //    key_handleEvent();        
 133   1          //}
 134   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    212    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      1    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
